extends ../layout

block content
  .row
    .col-md-12
      h1
        | Manage Users
      
      if users && users.length

        table.table.table-bordered.table-striped
          thead
            th
              | Email

            th  
              | Action

          tbody
            each user in users
              tr
                td
                  a(href='/admin/user/impersonate/' + user.userId)=user.email
                td
                  a.m-1.btn.btn-primary(href='/admin/user/' + user.userId, role='button')
                    | Edit User
                  a.m-1.btn.btn-danger(href='/admin/user/delete/' + user.userId, role='button')
                    | Delete User  
      else
        p.lead
          | No users found   

  .row
    .col-md-12
      .card
        .card-header
          if(!user)
            | Create User
          else
            | Edit User

        .card-block
          form(method='POST', action='/admin/user' autocomplete='off')
            input(type='hidden', name='userId', value=user ? user.userId : '')
            .form-group
              label.form-control-label(for='email')
                | Email Address:
              input#email.form-control(type='email', name='email', autocomplete='off', value=user ? user.email : '')

            .form-group
              label.form-control-label(for='password')
                | Password:
              input#password.form-control(type='password', name='password', autocomplete='off')

            .form-group
              label.form-control-label(for='status')
                | Status:
              input#status.form-control(type='status', name='status', autocomplete='off', value=user ? user.status : '')

            button.m-1.btn.btn-primary(type='submit')
              | Submit

            a.m-1.btn.btn-secondary(href='/admin/user', role='button')
              | Reset